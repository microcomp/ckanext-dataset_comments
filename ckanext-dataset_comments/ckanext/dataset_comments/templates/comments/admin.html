{% extends "page.html" %}

{% set page = c.page %}
{% set item_count = c.page.item_count %}

{% block subtitle %}{{ _('Comments') }}{% endblock %}


{% block breadcrumb_content %}
  <li>{{ _('Comments') }}</li>
{% endblock %}

{% block primary_content %}
  <article class="module">
    <div class="module-content">
      <h1 class="page-heading">
        {% block page_heading %}{{ _('Comments') }}{% endblock %}
      </h1>

      {#% block related_items %}
        {% if item_count %}
          {% trans first=page.first_item, last=page.last_item, item_count=item_count %}
            <p>Showing items <strong>{{ first }} - {{ last }}</strong> of <strong>{{ item_count }}</strong> related items found</p>
          {% endtrans %}
        {% elif c.filters.type %}
          {% trans item_count=item_count %}
            <p><strong>{{ item_count }}</strong> related items found</p>
          {% endtrans %}
        {% else %}
          <p class="empty">{{ _('There have been no apps submitted yet.') }}
        {% endif %}
      {% endblock %#}
<strong>{{ c.len }}</strong> {{_('comments found')}}</p>
<hr>



      <ul class="dataset-list unstyled">
      {%for comment in c.comments %}
      <li class="dataset-item">
      	<div class="dataset-content">
      		<h3 class="dataset-heading">{{h.username(comment.user_id)}}</h3>
      		<h4> {{comment.date}}, {{_(comment.pub)}}, 
      			<a href="
      			{% if h.is_app(comment.dataset_id) %}
      				/apps/detail?id={{comment.dataset_id}}
      			{%else%}
      				/dataset/{{comment.dataset_id}}
      			{%endif%}
      			"> URL </a>
      		</h4>

      		<p>{{comment.comment_text}}</p>
      	</div>
      </li>
      {%endfor%}
     <ul>
    </div>

    {#% block page_pagination %}
      {{ page.pager() }}
    {% endblock %#}
  </article>
{% endblock %}

{% block secondary_content %}


  <section class="module module-narrow module-shallow">
    <h2 class="module-heading">{{ _('Filter Results') }}</h2>
    <form action="" method="get" class="module-content form-inline form-narrow">
      <input type='hidden' name='page' value='1'/>

      <div class="control-group">
        <label for="field-type">{{ _('Filter by type') }}</label>
        <select id="field-type" name="type">
          <option value="">{{ _('All') }}</option>
          <option value="deleted"> {{_('Deleted') }}</option>
          <option value="reported"> {{_('Reported') }}</option>
          <option value="public"> {{_('Public') }}</option>
        </select>
      </div>

      <div class="control-group">
        <label for="field-sort">{{ _('Sort by') }}</label>
        <select id="field-sort" name="sort">
          <option value="">{{ _('Default') }}</option>
          <option value="newest">{{ _('Newest') }}</option>
          <option value="oldest">{{ _('Oldest') }}</option>
         
        </select>
      </div>

      

      <div class="form-actions">
        <button class="btn btn-primary">{{ _('Apply') }}</button>
      </div>
    </form>
  </section>
{% endblock %}
